document.addEventListener("DOMContentLoaded",()=>{let t=document.getElementById("conteudo");function e(){let t=document.querySelectorAll("a[href]");t.forEach(t=>{t.removeEventListener("click",o),t.addEventListener("click",o)})}function o(t){let e=t.currentTarget.getAttribute("href");if(e.startsWith("http")||e.startsWith("#"))return;t.preventDefault();let o=e.replace(".html","");a(o)}async function a(o){try{let a=`${o}.html`;"inicio"===o&&(a="index.html");let r=await fetch(a);if(!r.ok)throw Error("P\xe1gina n\xe3o encontrada");let s=await r.text(),c=new DOMParser,i=c.parseFromString(s,"text/html"),l=i.querySelector("main");if(!l)throw Error("Conte\xfado principal n\xe3o encontrado");t.innerHTML=l.innerHTML,history.pushState({page:o},"",`#${o}`),e(),n(o)}catch(d){t.innerHTML=`<p style="color:red;">Erro ao carregar a p\xe1gina: ${d.message}</p>`}}function n(t){let e=document.getElementById("scriptPagina");e&&e.remove();let o={projetos:"js/script.js",capacitacao:"js/capacitacao.js",cadastro:"js/script.js"};if(o[t]){let a=document.createElement("script");a.src=o[t],a.id="scriptPagina",a.defer=!0,a.onload=()=>{"capacitacao"===t&&"function"==typeof initCapacitacao&&initCapacitacao(),"cadastro"===t&&"function"==typeof initCadastro&&initCadastro()},document.body.appendChild(a)}}let r=document.querySelectorAll("nav a[data-page]");r.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();let o=t.getAttribute("data-page");a(o)})}),window.addEventListener("popstate",t=>{let e=t.state?t.state.page:"inicio";a(e)}),e();let s=location.hash.replace("#","")||"inicio";a(s)});const botaoEscuro=document.getElementById("toggle-dark"),botaoContraste=document.getElementById("toggle-contrast"),botaoReset=document.getElementById("reset-mode");botaoEscuro?.addEventListener("click",()=>{let t=document.body,e=t.classList.contains("dark-mode");t.classList.remove("high-contrast"),t.classList.toggle("dark-mode"),botaoEscuro.textContent=e?"Modo Escuro":"Modo Normal",botaoContraste.textContent="Alto Contraste"}),botaoContraste?.addEventListener("click",()=>{let t=document.body,e=t.classList.contains("high-contrast");t.classList.remove("dark-mode"),t.classList.toggle("high-contrast"),botaoContraste.textContent=e?"Alto Contraste":"Modo Normal",botaoEscuro.textContent="Modo Escuro"}),botaoReset?.addEventListener("click",()=>{document.body.classList.remove("dark-mode","high-contrast"),botaoEscuro.textContent="Modo Escuro",botaoContraste.textContent="Alto Contraste"});