function initCadastro(){console.log("script.js - cadastro inicializado");let e=document.getElementById("formCadastro");if(!e)return;let t=document.getElementById("successMessage"),n=document.getElementById("radioError"),a={nome:document.getElementById("nome"),email:document.getElementById("email"),cpf:document.getElementById("cpf"),telefone:document.getElementById("telefone"),nascimento:document.getElementById("nascimento"),endereco:document.getElementById("endereco"),cep:document.getElementById("cep"),cidade:document.getElementById("cidade"),estado:document.getElementById("estado"),tipo_colaboracao:document.getElementsByName("tipo_colaboracao")},r={email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,cpf:/^\d{3}\.\d{3}\.\d{3}-\d{2}$/,telefone:/^\(\d{2}\)\s?\d{4,5}-\d{4}$/,cep:/^\d{5}-\d{3}$/};function l(e,t){let n=e.parentElement.querySelector(".error-message");n||((n=document.createElement("div")).classList.add("error-message"),n.style.color="red",n.style.fontSize="0.9em",e.parentElement.appendChild(n)),n.textContent=t,n.style.display="block"}function o(e){let t=e.value.trim();switch(e.id){case"nome":if(!t)return l(e,"Preencha o nome completo."),!1;break;case"email":if(!r.email.test(t))return l(e,"E-mail inv\xe1lido."),!1;break;case"cpf":if(!r.cpf.test(t))return l(e,"CPF inv\xe1lido."),!1;break;case"telefone":if(!r.telefone.test(t))return l(e,"Telefone inv\xe1lido."),!1;break;case"nascimento":if(!t)return l(e,"Data de nascimento obrigat\xf3ria."),!1;break;case"endereco":if(!t)return l(e,"Endere\xe7o obrigat\xf3rio."),!1;break;case"cep":if(!r.cep.test(t))return l(e,"CEP inv\xe1lido."),!1;break;case"cidade":if(!t)return l(e,"Cidade obrigat\xf3ria."),!1;break;case"estado":if(!t)return l(e,"Selecione o estado."),!1}return!function e(t){let n=t.parentElement.querySelector(".error-message");n&&(n.style.display="none")}(e),!0}let d=document.getElementById("cpf");d?.addEventListener("input",()=>{let e=d.value.replace(/\D/g,"");e.length<=11&&(e=(e=(e=e.replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d)/,"$1.$2")).replace(/(\d{3})(\d{1,2})$/,"$1-$2")),d.value=e});let i=document.getElementById("telefone");i?.addEventListener("input",()=>{let e=i.value.replace(/\D/g,"");e.length<=11&&(e=(e=e.replace(/^(\d{2})(\d)/,"($1) $2")).replace(/(\d{5})(\d)/,"$1-$2")),i.value=e});let c=document.getElementById("cep");c?.addEventListener("input",()=>{let e=c.value.replace(/\D/g,"");e.length<=8&&(e=e.replace(/^(\d{5})(\d)/,"$1-$2")),c.value=e}),Object.values(a).forEach(e=>{e&&("INPUT"===e.tagName||"SELECT"===e.tagName)&&e.addEventListener("blur",()=>o(e))}),e.addEventListener("submit",r=>{r.preventDefault();let l=!0;Object.values(a).forEach(e=>{e&&("INPUT"===e.tagName||"SELECT"===e.tagName)&&!o(e)&&(l=!1)});let d=Array.from(a.tipo_colaboracao).some(e=>e.checked);d?n.style.display="none":(n.textContent="Selecione uma forma de colabora\xe7\xe3o.",n.style.display="block",l=!1),l&&(t.style.display="block",setTimeout(()=>{t.style.display="none"},3e3),e.reset())})}function reconhecerVoz(e){let t=document.getElementById(e);if(!t)return;let n=new(window.SpeechRecognition||window.webkitSpeechRecognition);n.lang="pt-BR",n.interimResults=!1,n.maxAlternatives=1,n.start(),n.onresult=function(e){let n=e.results[0][0].transcript;t.value=n,t.focus()},n.onerror=function(e){alert("Erro no reconhecimento de voz: "+e.error)}}window.addEventListener("DOMContentLoaded",initCadastro);